@namespace Project.Web.Shared.Components
@using Project.Web.Shared.Extensions
@inherits ConditionBase
<MCol ColSpan="@ActualColWidth">
    <span class="conditions" style="@Style">
        <span class="label" style="width:@($"{Parent.LabelWidth}px");">
            @Label
        </span>
        @if (Field != null && ChildContent == null)
        {
            if (Field.DataType == typeof(DateTime))
            {
                @(UI.BuildDatePicker<DateTime>(this).Bind(() => dateValue, NotifyChanged).Render())
            }
            else if (Field?.EnumValues != null || (Field?.IsEnum ?? false))
            {
                // builder.OpenComponent<DictionarySelect>(7);
                // builder.AddComponentParameter(8, "Options", Field.EnumValues);
                // builder.AddComponentParameter(9, "Value", stringValue);
                // builder.AddComponentParameter(10, "ValueChanged", EventCallback.Factory.Create<string>(this, s => stringValue = s));

                @(UI.BuildSelect<KeyValuePair<string, string>, string>(this, Field.EnumValues!.ToList()).LabelExpression(kv => kv.Value).ValueExpression(kv => kv.Key).Bind(() => stringValue, NotifyChanged).Render())
            }
            else
            {
                @UI.BuildInput(this).Bind(() => stringValue, NotifyChanged).Render()
            }
        }
        else
        {
            @ChildContent
        }
    </span>
</MCol>
