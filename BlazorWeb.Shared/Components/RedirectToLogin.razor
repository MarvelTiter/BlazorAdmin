@using System.Web;
@using Microsoft.Extensions.Options;
@using Project.AppCore.Options;
@inject NavigationManager Navigator
@*@inject MessageService MsgSrv*@
@inject IOptionsMonitor<Token> Token
@code {
    protected override void OnInitialized()
    {
        base.OnInitialized();
        // var redirect = Navigator.ToBaseRelativePath(Navigator.Uri);
        // Navigator.NavigateTo($"/login?Redirect={HttpUtility.UrlEncode(redirect)}", true);
    }

    protected override void OnAfterRender(bool firstRender)
    {
        base.OnAfterRender(firstRender);
        
        @*_ = MsgSrv.Error("登录过期！请重新登录！");*@
        var redirect = Navigator.ToBaseRelativePath(Navigator.Uri);
        Navigator.NavigateTo($"/login?Redirect={HttpUtility.UrlEncode(redirect)}", true);
        //Navigator.NavigateTo("/login", true);
    }
}
